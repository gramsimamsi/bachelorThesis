!function(e){var s={debug_mode:!1},i=function(e,s){var i,t,n,o;return function(){n=this,t=[].slice.call(arguments,0),o=new Date;var a=function(){var r=new Date-o;s>r?i=setTimeout(a,s-r):(i=null,e.apply(n,t))};i||(i=setTimeout(a,s))}},t=function(e){"function"==typeof jQuery&&e instanceof jQuery&&(e=e[0]);var s=e.getBoundingClientRect();return s.top>=0&&s.left>=0&&s.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&s.right<=(window.innerWidth||document.documentElement.clientWidth)};s.setCookie=function(e,i,t){var n=new Date;n.setTime(n.getTime()+t);var o="expires="+n.toGMTString();s.debug_mode?console.log("sending cookie = "+e+" = "+i+", expires = "+o):document.cookie=e+"="+i+"; "+o+"; path=/"},s.getCookie=function(e){for(var s=e+"=",i=decodeURIComponent(document.cookie),t=i.split(";"),n=0;n<t.length;n++){for(var o=t[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(s))return o.substring(s.length,o.length)}return""},s.getCookie1=function(e){for(var s=e+"=",i=document.cookie.split(";"),t=0;t<i.length;t++){var n=i[t].trim();if(0==n.indexOf(s))return n.substring(s.length,n.length)}return""},s.sendDeactivationCookie=function(e){""!=slidingmarketing.on_hide&&("page"==slidingmarketing.on_hide&&s.setCookie("sm-"+e+"-"+slidingmarketing.post_id,"true",slidingmarketing.reshow_after_setup),"all"==slidingmarketing.on_hide&&s.setCookie("sm-"+e+"-all","true",slidingmarketing.reshow_after_setup))},s.deactivatedFromCookie=function(e){var i=s.getCookie("sm-"+e+"-"+slidingmarketing.post_id),t=!1;return"true"==i?t=!0:(i=s.getCookie("sm-"+e+"-all"),"true"==i&&(t=!0)),t},s.hide=function(i){if(e("#"+i).length&&e("#"+i).removeClass("slidingmessage-active"),s.messages[i]&&s.messages[i].reopen){var t="slidingmessage-open-"+s.messages[i].id;e("#"+t).length&&e("#"+t).addClass("slidingmessage-active")}if(s.messages[i]&&s.messages[i].forcehide){var n=s.messages[i].id;s.setCookie("sm-"+n+"-all","true","2629746")}},s.show=function(i,t){if(!t){if(s.messages[i].displayed)return;if(s.deactivatedFromCookie(s.messages[i].id))return}if(e("#"+i).length&&(e("#"+i).addClass("slidingmessage-active"),s.messages[i].displayed=!0,s.messages[i].nocookies||s.sendDeactivationCookie(s.messages[i].id),s.messages[i]&&Number(s.messages[i].disappear_at))){var n=1e3*Number(s.messages[i].disappear_at);setTimeout(function(){s.debug_mode&&console.log("timeout event disappear = "+i+", time = "+n),s.hide(i)},n)}},s.close=function(e){var i="slidingmessage-"+e;s.hide(i)},s.subscribe=function(i,t){t.preventDefault();var n=e(".sm-subscribe-"+i+" .sm-subscribeform");if(n.length){var o=e(n).find(".sm-subscribe-email").val(),a="";e(n).find(".sm-subscribe-submit").prop("disabled",!0),e(n).hide(),e(".sm-subscribe-"+i).find(".sm-subscribe-loader").show();var r=n.attr("action")+"&mailchimp_email="+o+"&mailchimp_name="+a;e.post(r,{mailchimp_email1:o,mailchimp_name1:a},function(t){if(t){if(s.debug_mode&&console.log(t),"1"==t.code)e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-success").show(),e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").hide(),e(n).hide();else{var o=e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").attr("data-message")||"";""==o&&e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").attr("data-message",e(".essb-subscribe-form-"+i).find(".essb-subscribe-form-content-error").text()),90==t.code?e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").text(t.message):e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").text(o),e(".sm-subscribe-"+i).find(".sm-subscribe-form-content-error").show(),e(".sm-subscribe-"+i).find(".sm-subscribeform").show(),e(n).find(".sm-subscribe-submit").prop("disabled",!1)}e(".sm-subscribe-"+i).find(".sm-subscribe-loader").hide()}},"json")}},window.slidingMessages=s,e(document).ready(function(){function n(e){var s=Date.parse(e)-Date.parse(new Date),i=Math.floor(s/1e3%60),t=Math.floor(s/1e3/60%60),n=Math.floor(s/36e5%24),o=Math.floor(s/864e5);return{total:s,days:o,hours:n,minutes:t,seconds:i}}function o(e){var s=setInterval(function(){var i=n(e);document.querySelector(".days > .value").innerText=i.days,document.querySelector(".hours > .value").innerText=i.hours,document.querySelector(".minutes > .value").innerText=i.minutes,document.querySelector(".seconds > .value").innerText=i.seconds,i.total<=0&&clearInterval(s)},1e3)}s.messages={},s.hasScrollEvent=!1,s.hasElementWatch=!1;var a=800;slidingmarketing.hide_mobile_resolution&&Number(slidingmarketing.hide_mobile_resolution)&&(a=Number(slidingmarketing.hide_mobile_resolution)),e(".slidingmessage").each(function(){if(!(slidingmarketing.hide_mobile&&e(window).width()<a)){var i=e(this).attr("data-appear")||"time",t=e(this).attr("data-appear-at")||"",n=e(this).attr("data-disappear")||"",o=e(this).attr("data-reopen")||"",r=e(this).attr("data-id")||"",m=e(this).attr("data-forcehide")||"",d=e(this).id||"",l=e(this).attr("data-nocookie")||"";if(s.debug_mode&&console.log("element_id = "+d+", appear = "+i),e(this).width()>e(window).width()&&e(this).width(e(window).width()),s.debug_mode&&console.log(e(this).find(".sm-content").outerHeight()+" - "+e(window).height()),e(this).find(".sm-content").length&&e(this).find(".sm-content").outerHeight()>e(window).height()&&(s.debug_mode&&console.log("fixing height"),e(this).find(".sm-content").css("overflow","hidden"),e(this).find(".sm-content").css("overflowY","scroll"),e(this).find(".sm-content").css("height","100%")),""==d&&""!=r&&(d="slidingmessage-"+r),""!=d){if(s.messages[d]={appear:i,appear_at:t,disappear_at:n,reopen:o,id:r,forcehide:m,element:e(this),element_id:d,displayed:!1,nocookies:l},"scroll"==i&&(s.hasScrollEvent=!0),"element"==i&&(s.hasElementWatch=!0),"time"==i&&(t=Number(t)?1e3*Number(t):100,setTimeout(function(){s.debug_mode&&console.log("timeout event = "+d+", time = "+t),s.show(d)},t)),e(this).find(".sm-close a").length&&e(this).find(".sm-close a").click(function(i){i.preventDefault();var t=e(this).attr("data-close");s.debug_mode&&console.log("closing message_id "+t),""!=t&&s.hide(t)}),e(this).hasClass("sm-position-left")||e(this).hasClass("sm-position-right")){var c=e(this).innerHeight();e(this).css("top","50%"),e(this).css("margin-top",-1*Math.floor(c/2))}if(e(this).hasClass("sm-position-center")){var c=e(this).innerHeight(),h=e(this).innerWidth();e(this).css("top","50%"),e(this).css("margin-top",-1*Math.floor(c/2)),e(this).css("left","50%"),e(this).css("margin-left",-1*Math.floor(h/2))}if(e(this).hasClass("sm-position-full")){var c=e(this).find(".sm-content").innerHeight();e(this).find(".sm-content").css("height",c)}}}}),e(".sm-manual-close").each(function(){e(this).click(function(i){if(i.preventDefault(),e(this).closest(".slidingmessage").length){var t=e(this).closest(".slidingmessage").attr("data-id")||"",n=e(this).closest(".slidingmessage").id||"";if(""==n&&""!=t&&(n="slidingmessage-"+t),""==n)return;s.hide(n)}})}),e(".slidingmessage-open").each(function(){if(e(this).click(function(i){i.preventDefault();var t=e(this).attr("data-id")||"",n="";""==n&&""!=t&&(n="slidingmessage-"+t),""!=n&&s.show(n,!0)}),e(this).hasClass("sm-position-left")||e(this).hasClass("sm-position-right")||e(this).hasClass("sm-position-left-sidebar")||e(this).hasClass("sm-position-right-sidebar")){var i=e(this).innerHeight();e(this).css("top","50%"),e(this).css("margin-top",-1*Math.floor(i/2))}if(e(this).hasClass("sm-position-center")){var i=e(this).innerHeight();e(this).innerWidth();e(this).css("top","50%"),e(this).css("margin-top",-1*Math.floor(i/2)),e(this).css("left","0")}if(e(this).hasClass("sm-position-topbar")||e(this).hasClass("sm-position-bottombar")){var i=e(this).innerWidth();e(this).css("left","50%"),e(this).css("margin-left",-1*Math.floor(i/2))}});var r=function(){var i=e(window).scrollTop(),t=e(document).height()-e(window).height(),n=i/t*100;for(var o in s.messages)if(!s.messages[o].displayed&&"scroll"==s.messages[o].appear){var a=Number(s.messages[o].appear_at)||1;n>=a&&(s.debug_mode&&console.log("scroll trigger on "+n+", value = "+a),s.show(o))}};s.hasScrollEvent&&e(window).scroll(i(r,1));var m=function(){e(window).scrollTop(),e(document).height()-e(window).height();for(var i in s.messages)if(!s.messages[i].displayed&&"element"==s.messages[i].appear){var n=s.messages[i].appear_at;document.querySelector(n)&&t(document.querySelector(n))&&(s.debug_mode&&console.log("scroll trigger on selector value = "+n),s.show(i))}};if(s.hasElementWatch&&e(window).scroll(m),e(".sm-countdown").length){var d=e(".sm-countdown").attr("data-timer")||"";d&&o(d)}})}(jQuery);